.ui__thumbnail {
  padding: $padding;
  position: relative;
  border: 1px solid transparent;
  outline: none;
  width: $thumbnail-dimensions;
  height: $thumbnail-dimensions;
  transition: 0.1s background-color;
  display: flex;
  flex-direction: column;
  z-index: $z-index-local;

  &--selected:not(.ui__thumbnail--dragging) {
    background-color: $blue-gray-1;
  }

  &--dragging {
    border: 2px dashed $focus-shadow;

    .ui__thumbnail__controls,
    .ui__thumbnail__image,
    .ui__thumbnail__label {
      visibility: hidden;
    }
  }

  &:hover,
  &.ui__thumbnail--focused:not(.ui__thumbnail--disabled) {
    // Do not style for hover or focus if anything is dragging
    &:not(.ui__thumbnail--dragging):not(.ui__thumbnail--otherDragging) {
      &:not(.ui__thumbnail--selected) {
        background-color: $gray-1;
      }

      .ui__thumbnail__controls {
        opacity: 1;
      }
    }
  }

  &:focus:not(.ui__thumbnail--disabled) {
    .ui__thumbnail__image img {
      @include focus;
      border-color: $focus-shadow;
    }
  }

  &__controls {
    transition: 0.1s opacity;
    position: absolute;
    top: $padding-tiny;
    right: $padding-tiny;
    opacity: 0;
    display: flex;
    overflow: hidden;
    border-radius: $border-radius-small;
    z-index: $z-index-raised;
  }

  &__image {
    @include flex-center;
    flex-direction: column;
    height: 0;
    flex: 1 1 auto;
  }

  &__label {
    text-align: center;
    margin-top: $padding;
  }
}
