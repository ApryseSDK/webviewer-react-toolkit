@import url('https://fonts.googleapis.com/css?family=Lato:400,400i,700,700i&display=swap');
@import url('https://fonts.googleapis.com/css?family=IBM+Plex+Mono:400,400i,700,700i&display=swap');
@import '../src/index.scss';

html,
body {
  height: 100% !important;
  padding: 0 !important;
  margin: 0 !important;
}

#playground-theme-button {
  position: absolute;
  top: 0;
  right: 0;
  z-index: $z-index-dragging;
  border-left: 1px solid rgba(255, 255, 255, 0.1);
  border-bottom: 1px solid rgba(255, 255, 255, 0.1);
  background-color: rgb(51, 51, 51);
  border-bottom-left-radius: 4px;
  width: 90px;
  @include flex-center;
  cursor: pointer;
  user-select: none;

  &.playground-theme-button__docs {
    top: 4px;
    border-top: 1px solid rgba(255, 255, 255, 0.1);
    border-top-left-radius: 4px;
    position: fixed;
  }
}

.sb-show-main > #root {
  background-color: $color-background-canvas;
}

// Change appearance of inserted stories.
#docs-root {
  .sbdocs-content {
    .sbdocs-preview {
      // Remove `Show code` button for inserted stories.
      > div:nth-child(1) > div:nth-child(2) {
        display: none;
      }

      // Make inline story background canvas.
      div[id^='story--'] {
        background-color: $color-background-canvas;
      }

      // Remove `Show code` button for primary stories.
      > div:nth-child(2) > div:nth-child(2) {
        display: none;
      }

      // Remove code preview.
      #story-root + div {
        display: none;
      }

      // Remove internal spacing.
      > div > div {
        padding: 0;

        > div {
          margin: 0;
        }
      }
    }
  }
}

// Change appearance of info.
#root {
  height: 100%;
  display: flex;
  flex-direction: column;

  // Story root should be auto flexed.
  > #story-root {
    flex: 1 1 auto;
    overflow: auto;
  }

  // Non story root without class is the code preview.
  > div:not(#story-root):not(#playground-theme-button):not([class]) {
    flex-shrink: 0;
    max-height: 40%;
    overflow: auto;
    border-top: 1px solid rgba(255, 255, 255, 0.1);

    > div > *:not(div) {
      display: none;
    }

    // Make code blocks smaller
    code {
      font-size: 12px;
      font-weight: 500;
    }
  }
}
